terraform {
    required_providers {
      oci = {
        source = "hashicorp/oci"
      }
    }
  }

provider "oci" {
  tenancy_ocid     = var.tenancy_ocid
  user_ocid        = var.user_ocid
  fingerprint      = var.fingerprint
  private_key_path = var.private_key_path
  region           = var.region
}

resource "oci_integration_integration_instance" "test_integration_instance" {
  #Required
  compartment_id            = var.compartment_ocid
  display_name              = "dmone-ig"
  integration_instance_type = "ENTERPRISE"
  is_byol                   = "false"
  message_packs             = "1"
 idcs_at                = "eyJ4NXQjUzI1NiI6InRZNXozSFVsUXFibzlKTnRPMlFGVldnWm55SlZYd0ZKaGc1QmJtLTNEa3MiLCJ4NXQiOiJjWVRTTHR6enlZdnhCbFUtc1BiQmJRVDRidXMiLCJraWQiOiJTSUdOSU5HX0tFWSIsImFsZyI6IlJTMjU2In0.eyJ1c2VyX3R6IjoiQW1lcmljYVwvQ2hpY2FnbyIsInN1YiI6InZiYWNodXVAZ21haWwuY29tIiwidXNlcl9sb2NhbGUiOiJlbiIsInNpZGxlIjo0ODAsInVzZXIudGVuYW50Lm5hbWUiOiJpZGNzLWRkNDY2ZWUxNGY5MDQyZGJhNmM1ZGY2NDQwOWY2OWVlIiwib25CZWhhbGZPZlVzZXIiOnRydWUsImlzcyI6Imh0dHBzOlwvXC9pZGVudGl0eS5vcmFjbGVjbG91ZC5jb21cLyIsImRvbWFpbl9ob21lIjoiYXAtaHlkZXJhYmFkLTEiLCJjYV9vY2lkIjoib2NpZDEudGVuYW5jeS5vYzEuLmFhYWFhYWFhbXc1bGtxbHRqM2p1ZGdtb3d1dmFnbXdjY3dmZDNiMnhibDVid2pwZGtreWhmcm1teGw1YSIsInVzZXJfdGVuYW50bmFtZSI6ImlkY3MtZGQ0NjZlZTE0ZjkwNDJkYmE2YzVkZjY0NDA5ZjY5ZWUiLCJjbGllbnRfaWQiOiJ0ZSIsInVzZXJfaXNBZG1pbiI6dHJ1ZSwiZG9tYWluX2lkIjoib2NpZDEuZG9tYWluLm9jMS4uYWFhYWFhYWFvcmI0bHIzM3o0c2ozeW00MjNuejduY21nNGMzcmJleTN6dnNpYXF2eXJqbnZ5aTU0cnBhIiwic3ViX3R5cGUiOiJ1c2VyIiwic2NvcGUiOiJ1cm46b3BjOmlkbTpnLmlkZW50aXR5c291cmNldGVtcGxhdGVfciB1cm46b3BjOmlkbTp0Lmdyb3Vwcy5tZW1iZXJzIHVybjpvcGM6aWRtOnQuYXBwIHVybjpvcGM6aWRtOnQudXNlci5sb2NrZWRzdGF0ZWNoYW5nZXIgdXJuOm9wYzppZG06dC5pZGJyaWRnZS5hZG1pbiB1cm46b3BjOmlkbTp0LnRlcm1zb2Z1c2UgdXJuOm9wYzppZG06dC5pZGNzcnB0cyB1cm46b3BjOmlkbTp0LnVzZXIuc2VjcmV0a2V5IHVybjpvcGM6aWRtOnQucmVxdWVzdHMgdXJuOm9wYzppZG06dC51c2VyLm1hbmFnZXIgdXJuOm9wYzppZG06dC5kcmcgdXJuOm9wYzppZG06dC5zZXNzaW9uIHVybjpvcGM6aWRtOnQuaGVscGRlc2suc2VjdXJpdHkgdXJuOm9wYzppZG06dC5zZWN1cml0eS5jbGllbnQgdXJuOm9wYzppZG06Zy5hcHB0ZW1wbGF0ZV9yIHVybjpvcGM6aWRtOnQuYnVsay51c2VyIHVybjpvcGM6aWRtOnQuZGlhZ25vc3RpY3NfciB1cm46b3BjOmlkbTp0LmlkYl9jb250YWluZXJzIHVybjpvcGM6aWRtOnQuaWRicmlkZ2UudXNlciB1cm46b3BjOmlkbTp0LnJhZGl1c3Byb3h5IHVybjpvcGM6aWRtOnQudXNlci5tZSB1cm46b3BjOmlkbTpnLmFsbF9yIHVybjpvcGM6aWRtOnQudXNlci5zZWN1cml0eSB1cm46b3BjOmlkbTp0LmF1ZGl0X3IgdXJuOm9wYzppZG06dC5qb2IuYXBwIHVybjpvcGM6aWRtOnQuc29taSB1cm46b3BjOmlkbTpnLnNoYXJlZGZpbGVzIHVybjpvcGM6aWRtOnQuaGVscGRlc2sudXNlciB1cm46b3BjOmlkbTp0LnVzZXIuZGJjcmVkZW50aWFsIHVybjpvcGM6aWRtOnQucmVzLmltcG9ydGV4cG9ydCB1cm46b3BjOmlkbTp0LmpvYi5pZGVudGl0eSB1cm46b3BjOmlkbTp0LmN1c3RvbWNsYWltcyB1cm46b3BjOmlkbTp0LnNhbWwgdXJuOm9wYzppZG06dC5tZmEgdXJuOm9wYzppZG06dC5kYi5hZG1pbiB1cm46b3BjOmlkbTp0LnVzZXIuYXBpa2V5IHVybjpvcGM6aWRtOnQuc2NoZW1hcyB1cm46b3BjOmlkbTp0Lm1mYS51c2VyYWRtaW4gdXJuOm9wYzppZG06dC51c2VyLm1hbmFnZXIuam9iIHVybjpvcGM6aWRtOnQub2F1dGggdXJuOm9wYzppZG06dC5ncm91cHMgdXJuOm9wYzppZG06dC5qb2IuaW1wb3J0ZXhwb3J0IHVybjpvcGM6aWRtOnQuaWRicmlkZ2UudW5tYXBwZWQuaWRjc2F0dHJpYnV0ZXMgdXJuOm9wYzppZG06dC5rcmIuYWRtaW4gdXJuOm9wYzppZG06dC5uYW1lZGFwcGFkbWluIHVybjpvcGM6aWRtOnQuYmxrcnB0cyB1cm46b3BjOmlkbTp0LnNlbGZyZWdpc3RyYXRpb25wcm9maWxlIHVybjpvcGM6aWRtOnQudXNlci5hdXRoZW50aWNhdGUgdXJuOm9wYzppZG06dC5ncmFudHMgdXJuOm9wYzppZG06dC5vYXV0aHRva2VuIHVybjpvcGM6aWRtOnQuYXV0aGVudGljYXRpb24gdXJuOm9wYzppZG06dC5jb250YWluZXIgdXJuOm9wYzppZG06dC5pbWFnZXMgdXJuOm9wYzppZG06dC5idWxrIHVybjpvcGM6aWRtOnQudXNlci5vYXV0aDJjbGllbnRjcmVkIHVybjpvcGM6aWRtOnQuZGVsZWdhdGVkLmdyb3VwLm1lbWJlcnMgdXJuOm9wYzppZG06dC5qb2Iuc2VhcmNoIHVybjpvcGM6aWRtOnQuaWRicmlkZ2UgdXJuOm9wYzppZG06dC51c2VyLmRibG9naW51cGRhdGVyIHVybjpvcGM6aWRtOnQudXNlci5hdXRodG9rZW4gdXJuOm9wYzppZG06dC51c2VyLnNtdHBjcmVkZW50aWFsIHVybjpvcGM6aWRtOnQuc2V0dGluZ3MgdXJuOm9wYzppZG06dC51c2VyLm1hbmFnZXIuc2VjdXJpdHkgdXJuOm9wYzppZG06dC5jbG91ZGdhdGUgdXJuOm9wYzppZG06dC5pZGJyaWRnZS5zb3VyY2VldmVudCB1cm46b3BjOmlkbTp0LnVzZXIuY2FwYWJpbGl0aWVzX3UgdXJuOm9wYzppZG06dC5wb2xpY3kgdXJuOm9wYzppZG06dC51c2VycyB1cm46b3BjOmlkbTp0LnJlcG9ydHMgdXJuOm9wYzppZG06dC51c2VyLnN1cHBvcnRhY2NvdW50IHVybjpvcGM6aWRtOnQuc2Vzc2lvbi5yZXZva2UgdXJuOm9wYzppZG06Zy5pZGNzcnB0c21ldGFfciIsInVzZXJfb2NpZCI6Im9jaWQxLnVzZXIub2MxLi5hYWFhYWFhYWg0Mnl6YnJ6enlmZmt5NnhkZmVpeWp5Nnc2ZHB1eWZ0NXpoNXc0cmx3NzR1cnZvM3JmMnEiLCJjbGllbnRfdGVuYW50bmFtZSI6ImlkY3MtZGQ0NjZlZTE0ZjkwNDJkYmE2YzVkZjY0NDA5ZjY5ZWUiLCJyZWdpb25fbmFtZSI6ImFwLWh5ZGVyYWJhZC1pZGNzLTEiLCJ1c2VyX2xhbmciOiJlbiIsInVzZXJBcHBSb2xlcyI6WyJBdXRoZW50aWNhdGVkIiwiR2xvYmFsIFZpZXdlciIsIklkZW50aXR5IERvbWFpbiBBZG1pbmlzdHJhdG9yIl0sImV4cCI6MTY4NDQyNDI2MCwiaWF0IjoxNjg0NDIwNjYwLCJjbGllbnRfZ3VpZCI6InRlIiwiY2xpZW50X25hbWUiOiJ0ZSIsInRlbmFudCI6ImlkY3MtZGQ0NjZlZTE0ZjkwNDJkYmE2YzVkZjY0NDA5ZjY5ZWUiLCJqdGkiOiIwOGY1ODM4OGE4NjI0NTg5YTUzNThiYTZhMTkzYzYxMCIsImd0cCI6InRlIiwidXNlcl9kaXNwbGF5bmFtZSI6IlZlbmthdGVzaCBCYWNodXUiLCJvcGMiOmZhbHNlLCJzdWJfbWFwcGluZ2F0dHIiOiJ1c2VyTmFtZSIsInByaW1UZW5hbnQiOnRydWUsInRva190eXBlIjoiQVQiLCJhdWQiOlsiaHR0cHM6XC9cL2lkY3MtZGQ0NjZlZTE0ZjkwNDJkYmE2YzVkZjY0NDA5ZjY5ZWUuaWRlbnRpdHkub3JhY2xlY2xvdWQuY29tIiwiaHR0cHM6XC9cL2lkY3MtZGQ0NjZlZTE0ZjkwNDJkYmE2YzVkZjY0NDA5ZjY5ZWUuYXAtaHlkZXJhYmFkLWlkY3MtMS5zZWN1cmUuaWRlbnRpdHkub3JhY2xlY2xvdWQuY29tIiwidXJuOm9wYzpsYmFhczpsb2dpY2FsZ3VpZD1pZGNzLWRkNDY2ZWUxNGY5MDQyZGJhNmM1ZGY2NDQwOWY2OWVlIl0sImNhX25hbWUiOiJ2YW1zaGl0cmFpbmluZyIsInVzZXJfaWQiOiJlOTYwMWRkMThhZjU0ZGIwYTljNzcwZDg1ZTliNzQ2MCIsImRvbWFpbiI6IkRlZmF1bHQiLCJjbGllbnRBcHBSb2xlcyI6WyJBdXRoZW50aWNhdGVkIENsaWVudCJdLCJ0ZW5hbnRfaXNzIjoiaHR0cHM6XC9cL2lkY3MtZGQ0NjZlZTE0ZjkwNDJkYmE2YzVkZjY0NDA5ZjY5ZWUuaWRlbnRpdHkub3JhY2xlY2xvdWQuY29tOjQ0MyJ9.V3_y9QH3BnhZf1DM-sGcIPjAzpxe9lQs9x8RaHGkr1qpr3ChTYjEdLNd0vFKBA3sb_qtU2kkwl1Q9Jd4GkcuPGiiFOuN1ipEEfPHKgvUwFhHYsiuBO7kznWE7AbV-xW7i97Y3yzD0JfSN5ukRuPfUC4OAS2ElkHiKdpsMbebDo3EuB54Lmg5dgzz6FWRGHnbcmYke0vdZ47GsNrHHbedB_BAPlIVj7APscHfICNr5hGv6ZtjXy33P3oP4HdgmZ9699qtHufGUzIpDHA2Yo0lDGQaGWTeQY39lgGcXsgR4Rg5qPYwqL35EtGSpJ9ceiWdpq2goNmtSblGQYBY2A6Mag"
}

data "oci_integration_integration_instances" "test_integration_instances" {
  #Required
  compartment_id = var.compartment_ocid

  #Optional
  display_name = "displayName"
  state        = "Active"
}

data "oci_integration_integration_instance" "test_integration_instance" {
  #Required
  integration_instance_id = oci_integration_integration_instance.test_integration_instance.id
}